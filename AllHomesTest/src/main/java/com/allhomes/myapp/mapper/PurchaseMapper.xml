<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.allhomes.myapp.purchase.PurchaseDaoImp">
	<select id="allPurchaseList" resultType="com.allhomes.myapp.purchase.PurchaseVO">
		select pc_no, pd_no, s_no, userid, num, price, shipping_c, total_p, a_code, pc_date, payment, status, confirm, memo, o_no from purchase order by pc_date desc
	</select>
	<select id="selectOnePurchaseList" parameterType="String" resultType="com.allhomes.myapp.purchase.PurchaseVO">
		select pc_no, pd_no, s_no, userid, num, price, shipping_c, total_p, a_code, pc_date, payment, status, confirm, memo, o_no from purchase where userid=#{userid}
	</select>  
	<insert id="insertPurchaseList" parameterType="com.allhomes.myapp.purchase.PurchaseVO">
		insert into purchase(pc_no, pd_no, s_no, userid, num, price, shipping_c, total_p, a_code, pc_date, payment, status, confirm, memo, o_no) values(pc_sq.nextval, pd_no=#{pd_no}, s_no=#{s_no}, userid=#{userid}, num=#{num}, price=#{price}, shipping_c=#{shipping_c}, total_p=#{total_p}, a_code=#{a_code}, pc_date=#{pc_date}, payment=#{payment}, status=#{status}, confirm=#{confirm}, memo=#{memo}, o_no=#{o_no})
	</insert>
	<update id="editPurchaseList" parameterType="com.allhomes.myapp.purchase.PurchaseVO">
	
	</update>
	<update id="editConfirmCheck" parameterType="com.allhomes.myapp.purchase.PurchaseVO">
		update purchase set confirm=#{confirm} where pc_no=#{pc_no}  
	</update>
	<delete id="delPurchaseList" parameterType="com.allhomes.myapp.purchase.PurchaseVO">
	
	</delete>
</mapper>